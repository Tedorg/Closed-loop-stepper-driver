#!/usr/bin/perl
use strict;
use warnings;
use POSIX;


my @array = (0,20,42,61,82,101,122,142,162,181,202,222,242,261,282,302,322,341,362,381,402,421,442,462,482,501,522,542,562,582,602,622,642,661,682,702,722,742,762,782,802,822,842,862,882,902,922,942,962,982,1003,1022,1042,1062,1082,1102,1122,1142,1163,1182,1202,1222,1242,1262,1282,1302,1322,1342,1362,1382,1402,1422,1442,1461,1482,1502,1522,1541,1562,1582,1602,1621,1642,1662,1682,1701,1722,1742,1762,1781,1802,1822,1842,1861,1882,1901,1922,1941,1962,1981,2002,2021,2042,2061,2082,2101,2122,2141,2162,2181,2202,2221,2242,2261,2282,2301,2321,2341,2362,2381,2401,2421,2442,2461,2481,2501,2522,2541,2561,2581,2602,2621,2641,2661,2682,2701,2721,2741,2762,2781,2801,2821,2842,2861,2881,2901,2922,2941,2961,2981,3002,3021,3041,3061,3081,3101,3121,3141,3162,3181,3201,3221,3242,3261,3281,3301,3322,3341,3361,3381,3402,3421,3441,3461,3482,3501,3521,3541,3562,3581,3601,3621,3642,3662,3682,3702,3723,3741,3762,3781,3802,3821,3842,3861,3882,3901,3922,3941,3962,3981,4000);
my $ms = 16; #Microsteps
my $d;
my $f; #fraction of Micro steps/Encoder steps
my $i = 0;
my $ii = 0;
my $size_of_array = @array-1;
print "size of array: $size_of_array \n\n";

until($i >= $size_of_array){

	$d = $array[$i+1]-$array[$i];
	$f = $ms/$d;

	for(1..$d){
	$ii++;
	printf(" %d,",ceil($f*$_)+($i*$ms));  # 1.56

	}
 	print "\n";
 	$i +=1;

 }
 print "\n\niterations: {$ii} \n\n";
